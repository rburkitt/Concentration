<html>

<head>
    <script>
        var emojis = ["1", "2", "3", "4", "5", "6", "7", "8", "1", "2", "3", "4", "5", "6", "7", "8"];

        var items = [];
        var buttons = ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",]

        var Flipped = 0;

        window.onload = function (e) {
            DealCards();
        }

        function DealCards() {
            items = shuffle(emojis.slice());
            Flipped = 0;
            document.getElementById("score").innerHTML = Flipped;
            for (var j = 0; j < 16; j++) {
                buttons[j] = "";
                document.getElementsByTagName("button")[j].disabled = false;
                document.getElementsByTagName("button")[j].innerHTML = "";
            }
        }

        function flipCard(index) {
            if (document.getElementsByTagName("button")[index].getElementsByTagName("div")[0].innerHTML == "") {
                document.getElementsByTagName("button")[index].getElementsByTagName("div")[0].innerHTML = items[index];
                buttons[index] = items[index];
            }
            else {
                document.getElementsByTagName("button")[index].getElementsByTagName("div")[0].innerHTML = "";
                buttons[index] = "";
            }

            if (document.getElementsByTagName("button")[index].innerHTML != "") {
                for (var j = 0; j < 16; j++) {
                    if (j == index) continue;
                    if (document.getElementsByTagName("button")[index].getElementsByTagName("div")[0].innerHTML == document.getElementsByTagName("button")[j].innerHTML) {
                        document.getElementsByTagName("button")[index].disabled = true;
                        document.getElementsByTagName("button")[j].disabled = true;
                    }
                }
            }

            Flipped += document.getElementsByTagName("button")[index].getElementsByTagName("div")[0].innerHTML != "" ? 1 : 0;
            document.getElementById("score").innerHTML = Flipped;
        }

        var shuffle = function (array) {

            var currentIndex = array.length;
            var temporaryValue, randomIndex;

            // While there remain elements to shuffle...
            while (0 !== currentIndex) {
                // Pick a remaining element...
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;

                // And swap it with the current element.
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }

            return array;

        };

    </script>
</head>

<body>

    <div class="container gameContainer">
        <div id="stack">
            <table>
                <tr>
                    <td>
                        <button onclick="flipCard(0)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(1)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(2)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(3)"><div style="display: flex;"></div></button>
                    </td>
                <tr>

                <tr>
                    <td>
                        <button onclick="flipCard(4)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(5)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(6)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(7)"><div style="display: flex;"></div></button>
                    </td>
                <tr>

                <tr>
                    <td>
                        <button onclick="flipCard(8)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(9)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(10)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(11)"><div style="display: flex;"></div></button>
                    </td>
                <tr>

                <tr>
                    <td>
                        <button onclick="flipCard(12)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(13)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(14)"><div style="display: flex;"></div></button>
                    </td>
                    <td>
                        <button onclick="flipCard(15)"><div style="display: flex;"></div></button>
                    </td>
                <tr>
            </table>
        </div>

        <div class="score">
            Flipped: <span id="score"></span>
        </div>
        <div class="deal">
            <div><button onclick="DealCards();">&#8635</button></div>
        </div>

    </div>


    <style>
        body {
            background-image: linear-gradient(180deg, rgb(5, 39, 103) 0%, rgb(58, 6, 71) 70%);
            color: white;
            font-size: 3vw;
        }

        .gameContainer {
            padding: 15px;
            width: 350px;
        }

        .score {
            color: white;
            float: left;
            display: inline-table;
        }

        .deal {
            float: right;
            color: white;
            display: inline-table;
        }

        .deal button {
            background-color: transparent;
            border: 1px solid white;
            color: white;
            font-size: 3vw;
        }

        #stack {
            align-content: center;
            width: 100%;
        }

        #stack button {
            background-color: transparent;
            width: 6vw;
            height: 8vw;
            font-size: 3vw;
            text-align: center;
            vertical-align: middle;
            display: inline-flex;
            justify-content: center;
            border: 1px solid white;
            color: white;
        }

        #stack button:disabled,
        #stack button[disabled] {
            border: 1px solid #999999;
            background-color: #cccccc;
            color: #666666;
        }
    </style>

</body>

</html>
